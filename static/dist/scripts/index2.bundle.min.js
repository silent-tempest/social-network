!function(){return function t(e,n,r){function o(i,u){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!u&&c)return c(i,!0);if(s)return s(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(t){return o(e[i][1][t]||t)},p,p.exports,t,e,n,r)}return n[i].exports}for(var s="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}}()({1:[function(t,e,n){"use strict";e.exports=function(t){var e=t.querySelector(".input__native");if(!e)throw Error('Cannot find <input class="input__native" /> in the given element. Maybe you passed the input directly instead of <div class="input--group"></div>?');function n(){this.value.trim()?t.classList.add("input--not-empty"):t.classList.remove("input--not-empty")}return e.addEventListener("change",n,!1),n.call(e),t}},{}],2:[function(t,e,n){"use strict";var r=Object.prototype.toString;e.exports=function(t,e){throw Error('"'+r.call(t)+'" is not '+e)}},{}],3:[function(t,e,n){"use strict";var r,o=t("./type"),s="undefined";e.exports=function(t){return t===r?s:s=o(r=t)}},{"./type":51}],4:[function(t,e,n){"use strict";e.exports=function(t){return t.replace(/\\(\\)?/g,"$1")}},{}],5:[function(t,e,n){"use strict";e.exports={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},timeout:6e4,method:"GET"}},{}],6:[function(t,e,n){"use strict";var r;if(void 0===r)try{r=t("qs")}catch(t){}var o=t("./ajax-options"),s=t("./defaults"),i={}.hasOwnProperty;function u(){var t,e;for(t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.6.0")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],e=0;e<t.length;++e)try{return(u=t[e])()}catch(t){}throw Error("cannot create XMLHttpRequest object")}e.exports=function(t,e){var n,c,a,p,f=null,l=u();if("string"!=typeof t?(n=!("async"in(e=s(o,t)))||e.async,t=e.path):null==e?(e=o,n=!1):n=!("async"in(e=s(o,e)))||e.async,l.onreadystatechange=function(){var n,o;if(4===this.readyState){if(n={status:1223===this.status?204:this.status,type:this.getResponseHeader("content-type"),path:t},f=this.responseText,n.type)try{n.type.indexOf("application/json")?n.type.indexOf("application/x-www-form-urlencoded")||(f=r.parse(f)):f=JSON.parse(f)}catch(t){o=!0}!o&&n.status>=200&&n.status<300?(null!=c&&clearTimeout(c),e.success&&e.success.call(this,f,n)):e.error&&e.error.call(this,f,n)}},"POST"===e.method||"data"in e?l.open("POST",t,n):l.open("GET",t,n),e.headers)for(p in e.headers)i.call(e.headers,p)&&("content-type"===p.toLowerCase()&&(a=e.headers[p]),l.setRequestHeader(p,e.headers[p]));return n&&null!=e.timeout&&(c=setTimeout(function(){l.abort()},e.timeout)),null!=a&&"data"in e?a.indexOf("application/json")?a.indexOf("application/x-www-form-urlencoded")?l.send(e.data):l.send(r.stringify(e.data)):l.send(JSON.stringify(e.data)):l.send(),f}},{"./ajax-options":5,"./defaults":24,qs:"qs"}],7:[function(t,e,n){"use strict";var r,o=t("../isset"),s=Object.prototype.__defineGetter__,i=Object.prototype.__defineSetter__;e.exports=function(t,e,n){var u,c,a=o("get",n),p=o("set",n);if(a||p){if(a&&"function"!=typeof(u=n.get))throw TypeError("Getter must be a function: "+u);if(p&&"function"!=typeof(c=n.set))throw TypeError("Setter must be a function: "+c);if(o("writable",n))throw TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");if(!s)throw Error("Cannot define getter or setter");a&&s.call(t,e,u),p&&i.call(t,e,c)}else o("value",n)?t[e]=n.value:o(e,t)||(t[e]=r);return t}},{"../isset":39}],8:[function(t,e,n){"use strict";e.exports=function(t,e){var n,r=[];for(t.lastIndex=0;n=t.exec(e);)r.push(n);return r}},{}],9:[function(t,e,n){"use strict";var r=t("../call-iteratee"),o=t("../isset");e.exports=function(t,e,n,s){var i,u,c;for(i=-1,u=t.length-1;u>=0&&(c=s?u:++i,!o(c,t)||!1!==r(e,n,t[c],c,t));--u);return t}},{"../call-iteratee":16,"../isset":39}],10:[function(t,e,n){"use strict";var r=t("../call-iteratee");e.exports=function(t,e,n,o,s){var i,u,c;for(i=-1,u=s.length-1;u>=0&&(c=o?s[u]:s[++i],!1!==r(e,n,t[c],c,t));--u);return t}},{"../call-iteratee":16}],11:[function(t,e,n){"use strict";var r=t("../isset");e.exports=function(t,e,n){for(var o,s=e.length-n,i=0;i<s;++i){if(o=e[i],!r(o,t))return;t=t[o]}return t}},{"../isset":39}],12:[function(t,e,n){"use strict";var r=t("./base-to-index"),o=Array.prototype.indexOf,s=Array.prototype.lastIndexOf;e.exports=function(t,e,n,i){var u,c,a,p,f;if(e==e&&(p=i?s:o))return p.call(t,e,n);if(!(u=t.length))return-1;for(a=u-1,void 0!==n?(n=r(n,u),c=(a=i?Math.min(a,n):Math.max(0,n))-1):c=-1;a>=0;--a)if((f=t[p=i?a:++c])===e||e!=e&&f!=f)return p;return-1}},{"./base-to-index":15}],13:[function(t,e,n){"use strict";var r,o,s=t("./base-index-of"),i=t("../support/support-keys"),u=Object.prototype.hasOwnProperty;"not-supported"===i&&(r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=function(t,e){var n,o;for(n=r.length-1;n>=0;--n)s(t,o=r[n])<0&&u.call(e,o)&&t.push(o);return t}),e.exports=function(t){var e,n=[];for(e in t)u.call(t,e)&&n.push(e);return"not-supported"!==i?n:o(n,t)}},{"../support/support-keys":48,"./base-index-of":12}],14:[function(t,e,n){"use strict";var r=t("./base-get");e.exports=function(t,e){if(null!=t)return e.length>1?r(t,e,0):t[e[0]]}},{"./base-get":11}],15:[function(t,e,n){"use strict";e.exports=function(t,e){return e&&t?(t<0&&(t+=e),t||0):0}},{}],16:[function(t,e,n){"use strict";e.exports=function(t,e,n,r,o){return void 0===e?t(n,r,o):t.call(e,n,r,o)}},{}],17:[function(t,e,n){"use strict";var r=t("./base/base-exec"),o=t("./_unescape"),s=t("./is-key"),i=t("./to-key"),u=t("./_type"),c=/(^|\.)\s*([_a-z]\w*)\s*|\[\s*((?:-)?(?:\d+|\d*\.\d+)|("|')(([^\\]\\(\\\\)*|[^\4])*)\4)\s*\]/gi;e.exports=function(t){var e,n,a;if(s(t))return[i(t)];if("array"===u(t))for(e=Array(n=t.length),a=n-1;a>=0;--a)e[a]=i(t[a]);else e=function(t){for(var e,n=r(c,t),s=n.length-1;s>=0;--s)(e=n[s])[2]?n[s]=e[2]:null!=e[5]?n[s]=o(e[5]):n[s]=e[3];return n}(""+t);return e}},{"./_type":3,"./_unescape":4,"./base/base-exec":8,"./is-key":31,"./to-key":49}],18:[function(t,e,n){"use strict";var r=t("./create"),o=t("./get-prototype-of"),s=t("./to-object"),i=t("./each"),u=t("./is-object-like");e.exports=function t(e,n,c){var a;return(void 0===n||c)&&(n=e,e=!0),a=r(o(n=s(n))),i(n,function(n,r,o){n===o?this[r]=this:e&&u(n)?this[r]=t(e,n):this[r]=n},a),a}},{"./create":20,"./each":26,"./get-prototype-of":27,"./is-object-like":33,"./to-object":50}],19:[function(t,e,n){"use strict";e.exports={ERR:{INVALID_ARGS:"Invalid arguments",FUNCTION_EXPECTED:"Expected a function",STRING_EXPECTED:"Expected a string",UNDEFINED_OR_NULL:"Cannot convert undefined or null to object",REDUCE_OF_EMPTY_ARRAY:"Reduce of empty array with no initial value",NO_PATH:"No path was given"},MAX_ARRAY_LENGTH:4294967295,MAX_SAFE_INT:9007199254740991,MIN_SAFE_INT:-9007199254740991,DEEP:1,DEEP_KEEP_FN:2}},{}],20:[function(t,e,n){"use strict";var r=t("./define-properties"),o=t("./set-prototype-of"),s=t("./is-primitive");function i(){}e.exports=Object.create||function(t,e){var n;if(null!==t&&s(t))throw TypeError("Object prototype may only be an Object or null: "+t);return i.prototype=t,n=new i,i.prototype=null,null===t&&o(n,null),arguments.length>=2&&r(n,e),n}},{"./define-properties":25,"./is-primitive":36,"./set-prototype-of":46}],21:[function(t,e,n){"use strict";var r=t("../base/base-for-each"),o=t("../base/base-for-in"),s=t("../is-array-like"),i=t("../to-object"),u=t("../iteratee").iteratee,c=t("../keys");e.exports=function(t){return function(e,n,a){return e=i(e),n=u(n),s(e)?r(e,n,a,t):o(e,n,a,t,c(e))}}},{"../base/base-for-each":9,"../base/base-for-in":10,"../is-array-like":29,"../iteratee":40,"../keys":41,"../to-object":50}],22:[function(t,e,n){"use strict";var r=t("../cast-path"),o=t("../noop");e.exports=function(t,e){return function(n){var s;return(n=r(n)).length?(e&&(s=Array.prototype.slice.call(arguments,1)),function(e){return t(e,n,s)}):o}}},{"../cast-path":17,"../noop":44}],23:[function(t,e,n){"use strict";var r=t("./_throw-argument-exception");e.exports=function(t,e){var n=null;return"function"!=typeof e&&r(e,"a function"),{debounced:function(){null!==n&&clearTimeout(n),n=arguments.length?setTimeout.apply(null,[e,t].concat([].slice.call(arguments))):setTimeout(e,t)},cancel:function(){null!==n&&(clearTimeout(n),n=null)}}}},{"./_throw-argument-exception":2}],24:[function(t,e,n){"use strict";var r=t("./mixin"),o=t("./clone");e.exports=function(t,e){return null==e?o(!0,t):r(!0,o(!0,t),e)}},{"./clone":18,"./mixin":43}],25:[function(t,e,n){"use strict";var r,o,s,i,u=t("./support/support-define-property");"full"!==u?(s=t("./is-primitive"),i=t("./each"),o=t("./base/base-define-property"),r=function(t,e){if("not-supported"!==u)try{return Object.defineProperties(t,e)}catch(t){}if(s(t))throw TypeError("defineProperties called on non-object");if(s(e))throw TypeError("Property description must be an object: "+e);return i(e,function(t,e){if(s(t))throw TypeError("Property description must be an object: "+t);o(this,e,t)},t),t}):r=Object.defineProperties,e.exports=r},{"./base/base-define-property":7,"./each":26,"./is-primitive":36,"./support/support-define-property":47}],26:[function(t,e,n){"use strict";e.exports=t("./create/create-each")()},{"./create/create-each":21}],27:[function(t,e,n){"use strict";var r=t("./constants").ERR,o=Object.prototype.toString;e.exports=Object.getPrototypeOf||function(t){var e;if(null==t)throw TypeError(r.UNDEFINED_OR_NULL);return void 0!==(e=t.__proto__)?e:"[object Function]"===o.call(t.constructor)?t.constructor.prototype:t}},{"./constants":19}],28:[function(t,e,n){"use strict";var r=t("./is-object-like"),o=t("./is-length"),s=t("./is-window-like");e.exports=function(t){return r(t)&&o(t.length)&&!s(t)}},{"./is-length":32,"./is-object-like":33,"./is-window-like":38}],29:[function(t,e,n){"use strict";var r=t("./is-length"),o=t("./is-window-like");e.exports=function(t){return null!=t&&("object"==typeof t?r(t.length)&&!o(t):"string"==typeof t)}},{"./is-length":32,"./is-window-like":38}],30:[function(t,e,n){"use strict";var r=t("./is-object-like"),o=t("./is-length"),s={}.toString;e.exports=Array.isArray||function(t){return r(t)&&o(t.length)&&"[object Array]"===s.call(t)}},{"./is-length":32,"./is-object-like":33}],31:[function(t,e,n){"use strict";var r=t("./_type"),o=/(^|[^\\])(\\\\)*(\.|\[)/;e.exports=function(t){var e;return!t||"array"!==r(t)&&("number"==(e=typeof t)||"boolean"===e||"symbol"===r(t)||!o.test(t))}},{"./_type":3}],32:[function(t,e,n){"use strict";var r=t("./constants").MAX_ARRAY_LENGTH;e.exports=function(t){return"number"==typeof t&&t>=0&&t<=r&&t%1==0}},{"./constants":19}],33:[function(t,e,n){"use strict";e.exports=function(t){return!!t&&"object"==typeof t}},{}],34:[function(t,e,n){"use strict";var r=t("./is-object-like"),o={}.toString;e.exports=function(t){return r(t)&&"[object Object]"===o.call(t)}},{"./is-object-like":33}],35:[function(t,e,n){"use strict";var r=t("./get-prototype-of"),o=t("./is-object"),s=Object.prototype.hasOwnProperty,i=Function.prototype.toString,u=i.call(Object);e.exports=function(t){var e,n;return!!o(t)&&(null===(e=r(t))||!!s.call(e,"constructor")&&("function"==typeof(n=e.constructor)&&i.call(n)===u))}},{"./get-prototype-of":27,"./is-object":34}],36:[function(t,e,n){"use strict";e.exports=function(t){return!t||"object"!=typeof t&&"function"!=typeof t}},{}],37:[function(t,e,n){"use strict";var r=t("./type");e.exports=function(t){return"symbol"===r(t)}},{"./type":51}],38:[function(t,e,n){"use strict";var r=t("./is-object-like");e.exports=function(t){return r(t)&&t.window===t}},{"./is-object-like":33}],39:[function(t,e,n){"use strict";e.exports=function(t,e){return null!=e&&(void 0!==e[t]||t in e)}},{}],40:[function(t,e,n){"use strict";var r=t("./is-array-like-object"),o=t("./matches-property"),s=t("./property");n.iteratee=function(t){return"function"==typeof t?t:r(t)?o(t):s(t)}},{"./is-array-like-object":28,"./matches-property":42,"./property":45}],41:[function(t,e,n){"use strict";var r=t("./base/base-keys"),o=t("./to-object"),s=t("./support/support-keys");e.exports="es2015"!==s?function(t){return("es5"===s?Object.keys:r)(o(t))}:Object.keys},{"./base/base-keys":13,"./support/support-keys":48,"./to-object":50}],42:[function(t,e,n){"use strict";var r=t("./cast-path"),o=t("./base/base-get"),s=t("./constants").ERR;e.exports=function(t){var e=r(t[0]),n=t[1];if(!e.length)throw Error(s.NO_PATH);return function(t){return null!=t&&(e.length>1?o(t,e,0)===n:t[e[0]]===n)}}},{"./base/base-get":11,"./cast-path":17,"./constants":19}],43:[function(t,e,n){"use strict";var r=t("./is-plain-object"),o=t("./to-object"),s=t("./is-array"),i=t("./keys");e.exports=function t(e,n){var u,c,a,p,f,l,y,d,b=arguments.length,h=2;for("boolean"!=typeof e&&(n=e,e=!0,h=1),h===b&&(n=this,--h),n=o(n);h<b;++h)for(a=0,p=(u=i(c=o(arguments[h]))).length;a<p;++a)f=c[l=u[a]],e&&f!==c&&(r(f)||(y=s(f)))?(d=n[l],y?(s(d)||(d=[]),y=!1):r(d)||(d={}),n[l]=t(!0,d,f)):n[l]=f;return n}},{"./is-array":30,"./is-plain-object":35,"./keys":41,"./to-object":50}],44:[function(t,e,n){"use strict";e.exports=function(){}},{}],45:[function(t,e,n){"use strict";e.exports=t("./create/create-property")(t("./base/base-property"))},{"./base/base-property":14,"./create/create-property":22}],46:[function(t,e,n){"use strict";var r=t("./is-primitive"),o=t("./constants").ERR;e.exports=Object.setPrototypeOf||function(t,e){if(null==t)throw TypeError(o.UNDEFINED_OR_NULL);if(null!==e&&r(e))throw TypeError("Object prototype may only be an Object or null: "+e);return"__proto__"in t&&(t.__proto__=e),t}},{"./constants":19,"./is-primitive":36}],47:[function(t,e,n){"use strict";var r;function o(t){try{if(""in Object.defineProperty(t,"",{}))return!0}catch(t){}return!1}r=o({})?"full":"undefined"!=typeof document&&o(document.createElement("span"))?"dom":"not-supported",e.exports=r},{}],48:[function(t,e,n){"use strict";var r;if(Object.keys)try{r=Object.keys("")}catch(t){r="es5"}else r={toString:null}.propertyIsEnumerable("toString")?"not-supported":"has-a-bug";e.exports=r},{}],49:[function(t,e,n){"use strict";var r=t("./_unescape"),o=t("./is-symbol");e.exports=function(t){var e;return"string"==typeof t?r(t):o(t)?t:"0"===(e=""+t)&&1/t==-1/0?"-0":r(e)}},{"./_unescape":4,"./is-symbol":37}],50:[function(t,e,n){"use strict";var r=t("./constants").ERR;e.exports=function(t){if(null==t)throw TypeError(r.UNDEFINED_OR_NULL);return Object(t)}},{"./constants":19}],51:[function(t,e,n){"use strict";var r=t("./create"),o={}.toString,s=r(null);e.exports=function(t){var e,n;return null===t?"null":"object"!==(e=typeof t)&&"function"!==e?e:(e=s[n=o.call(t)])||(s[n]=n.slice(8,-1).toLowerCase())}},{"./create":20}],52:[function(t,e,n){"use strict";e.exports=function(t){return"string"==typeof t&&t?t.length<6?"Пароль не должен быть короче 6 символов (сейчас "+t.length+")":t.length>48?"Пароль не должен быть длиннее 48 символов (сейчас "+t.length+")":/[0-9]/.test(t)?/[a-zа-яё]/.test(t)?/[A-ZА-ЯЁ]/.test(t)?void 0:"Пароль должен содержать хотя бы одну прописную букву":"Пароль должен содержать хотя бы одну строчную букву":"Пароль должен содержать хотя бы одну цифру":"Пожалуйста, введите пароль"}},{}],53:[function(t,e,n){"use strict";e.exports=function(t){return"string"==typeof t&&(t=t.trim())?t.length<2?"Имя не должно быть короче 2 символов (сейчас "+t.length+")":t.length>16?"Имя не должно быть длиннее 16 символов (сейчас "+t.length+")":/^\d+$/.test(t)?"Имя не может содержать только цифры":/^[\wа-яё -]+$/i.test(t)?void 0:"Имя может содержать только английские и русские буквы, цифры (не может содержать только цифры), дефисы, и подчеркивания":"Пожалуйста, ведите имя"}},{}],54:[function(t,e,n){"use strict";top!==self&&(top.location=self.location),[].forEach.call(document.querySelectorAll(".input--group"),t("@components/input"));var r=t("peako/debounce"),o=t("peako/ajax"),s=t("../../scripts/routes/lib/verify-username"),i=t("../../scripts/routes/lib/verify-password"),u={"Content-Type":"application/json"};!function(){var t,e=document.forms.login.elements.username,n=document.forms.login.elements.password,r={username:document.getElementById(e.dataset.helper),password:document.getElementById(n.dataset.helper)};function o(){var t={username:e.value.trim(),password:n.value};u({field:"username",message:s(t.username)||null}),u({field:"password",message:i(t.password)||null})}function u(t){null===t.message||this&&200===this.status?(r[t.field].innerHTML="",c(!1)):(r[t.field].innerHTML=t.message||this.status+": "+this.statusText,c(!0))}function c(e){document.forms.login.elements.submit.disabled=t=e}c(!0),document.forms.login.addEventListener("submit",function(e){t&&e.preventDefault()},!1),e.addEventListener("change",o,!1),e.addEventListener("input",o,!1),n.addEventListener("change",o,!1),n.addEventListener("input",o,!1)}(),function(){var t,e=document.forms.signup.elements.username,n=document.getElementById(e.dataset.helper),i=r(100,function(t){o("/signup/?step=0",{headers:u,success:a,error:a,data:t})}).debounced;function c(){var t={username:e.value.trim()},n=s(t.username);n?a(n):i(t)}function a(t,e){console.log("success",t,e),null===t||this&&200===this.status?(n.innerHTML="",p(!1)):(n.innerHTML=t||this.status+": "+this.statusText,p(!0))}function p(e){document.forms.signup.elements.submit.disabled=t=e}p(!0),document.forms.signup.addEventListener("submit",function(e){t&&e.preventDefault()},!1),e.addEventListener("change",c,!1),e.addEventListener("input",c,!1)}()},{"../../scripts/routes/lib/verify-password":52,"../../scripts/routes/lib/verify-username":53,"@components/input":1,"peako/ajax":6,"peako/debounce":23}]},{},[54]);